<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>notes</title></head><body><article class="markdown-body"><h1 id="notes-on-kettle-jobs"><a name="user-content-notes-on-kettle-jobs" href="#notes-on-kettle-jobs" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>notes on kettle jobs</h1>
<h2 id="generally"><a name="user-content-generally" href="#generally" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>generally:</h2>
<ul>
<li>a step is basically a function</li>
<li>it has inputs, performs some transformation, and returns outputs</li>
<li>the inputs and outputs are always rows with some fields</li>
<li>they always enter and leave asynchronously </li>
<li>you have two main problems when you&rsquo;re trying to design a tf:<ul>
<li>finding the right step (occasionally intuitive by name but not often)</li>
<li>making sure the step has the correct inputs (where applicable) and is configured to return the right output</li>
</ul>
</li>
<li>the ability to easily switch between data paths in a tf is useful</li>
<li>the &lsquo;ability&rsquo; to use a repository for kettle resources is not<ul>
<li>seriously it&rsquo;s buggy and poorly-maintained, don&rsquo;t do it</li>
<li>just copy the shit to a prd server and cron up kitchen/pan</li>
</ul>
</li>
</ul>
<h2 id="fnwicjkr"><a name="user-content-fnwicjkr" href="#fnwicjkr" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>FNWI/CJKR</h2>
<ul>
<li>determines, somehow, what BB data it is allowed to get<ul>
<li>FNWI job: dynamically determines based on which students answered &lsquo;yes&rsquo; to a specific test in BB, which also means the course is hardcoded here</li>
<li>CJKR job: reads lists of permitted courses + students from text files</li>
</ul>
</li>
<li>gets data about student activity</li>
<li>translates it to xAPI</li>
<li>sends all that to the LRS</li>
</ul>
<h3 id="get-cmd-args"><a name="user-content-get-cmd-args" href="#get-cmd-args" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>get cmd args</h3>
<ul>
<li>cjkr main tf needs filename to read from</li>
<li>these will be passed in from the command line as arguments<ul>
<li>this works exactly the same way as it does in <a href="#annemarie">annemarie&rsquo;s job</a></li>
</ul>
</li>
<li>however: the whole thing needs to be a job because the timestamp part depends on having a certain order</li>
<li>therefore: the job receives the arguments, not the tf</li>
<li>therefore there has to be a separate transform to take the job arguments and make them available to the rest of the job<ul>
<li>caveat: it is tempting to think you can take care of order inside a single tf with blocking steps</li>
<li>don&rsquo;t do it</li>
<li>kettle&rsquo;s not designed for that so while possible it&rsquo;s fuckin annoying and hairy</li>
</ul>
</li>
</ul>
<h3 id="get-latest-timestamp"><a name="user-content-get-latest-timestamp" href="#get-latest-timestamp" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>get latest timestamp</h3>
<ul>
<li>main tf needs to know latest timestamp</li>
<li>it needs to know <em>before</em> querying any DB</li>
<li>it also can&rsquo;t be part of the same tf because defined variables can&rsquo;t be used in the tf that defines them</li>
<li>therefore the step has to be a job step, which have a fixed order in a way that tf steps don&rsquo;t</li>
</ul>
<h4 id="generate-rows-inputgenerate-rows"><a name="user-content-generate-rows-inputgenerate-rows" href="#generate-rows-inputgenerate-rows" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>generate rows (input/<a href="http://wiki.pentaho.com/display/EAI/Generate+Rows">generate rows</a>)</h4>
<ul>
<li>generates a row with a very old timestamp (UNIX epoch) for purposes of courses that are already finished</li>
</ul>
<h4 id="set-header-scriptingmodified-java-script-value"><a name="user-content-set-header-scriptingmodified-java-script-value" href="#set-header-scriptingmodified-java-script-value" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>set header (scripting/<a href="http://wiki.pentaho.com/display/EAI/Modified+Java+Script+Value">modified java script value</a>)</h4>
<ul>
<li>no real reason to use this over putting it in a field in Generate Rows, but this is how it&rsquo;s passed in the main tf</li>
<li>it is somewhat of a shortcoming that one can&rsquo;t specify the headers directly in the step but has to pass them in</li>
</ul>
<h4 id="statements-from-lrs-lookuprest-client"><a name="user-content-statements-from-lrs-lookuprest-client" href="#statements-from-lrs-lookuprest-client" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>statements from LRS (lookup/<a href="http://wiki.pentaho.com/display/EAI/Rest+Client">rest client</a>)</h4>
<ul>
<li>can&rsquo;t do separate params on a GET, which is a good practice but the fact that y&rsquo;all had to enforce it says more about you</li>
<li>params: ?limit=1&amp;registration=uuidblat</li>
<li>registration is the conceptual grouping of shit in such a way that it&rsquo;s directly queryable; ie. all statements made by one application</li>
</ul>
<h4 id="parse-json-inputjson-input"><a name="user-content-parse-json-inputjson-input" href="#parse-json-inputjson-input" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>parse json (input/<a href="http://wiki.pentaho.com/display/EAI/JSON+Input">json input</a>)</h4>
<ul>
<li>uses <a href="http://goessner.net/articles/JsonPath/">JSONPath</a> syntax to retrieve a given field/property</li>
</ul>
<h4 id="max-of-timestamp-statisticsmemory-group-by"><a name="user-content-max-of-timestamp-statisticsmemory-group-by" href="#max-of-timestamp-statisticsmemory-group-by" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>max of timestamp (statistics/<a href="http://wiki.pentaho.com/display/EAI/Memory+Group+by">memory group by</a>)</h4>
<ul>
<li>input fields not in the top set don&rsquo;t become output fields</li>
<li>input fields in the bottom set are reduced according to the chosen scheme (in this case, maximum)</li>
<li>this step technically isn&rsquo;t necessary anymore since GET params but: <ul>
<li>it applies its own wacky formatting to the timestamp, such that diking it out would probably break the date format in the queries</li>
<li>leaving it in changes nothing content-wise, since the maximum of a set with one element is that element</li>
</ul>
</li>
</ul>
<h4 id="write-to-log-utilitywrite-to-log"><a name="user-content-write-to-log-utilitywrite-to-log" href="#write-to-log-utilitywrite-to-log" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>write to log (utility/<a href="http://wiki.pentaho.com/display/EAI/Write+to+log+%28step%29">write to log</a>)</h4>
<ul>
<li>important: if you&rsquo;re testing something, and the fields you want to see have changed (ie almost always), you have to Get Fields again here</li>
</ul>
<h3 id="user-data-to-lrs"><a name="user-content-user-data-to-lrs" href="#user-data-to-lrs" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>user data to lrs</h3>
<h4 id="courses-and-consenting-students-inputtable-input"><a name="user-content-courses-and-consenting-students-inputtable-input" href="#courses-and-consenting-students-inputtable-input" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>courses and consenting students (input/<a href="http://wiki.pentaho.com/display/EAI/Table+Input">table input</a>)</h4>
<ul>
<li>magically determine using specific course and content PKs which students have answered yes to the consent question in either course</li>
<li>output a row that looks like the old one: course id, [duped course id,] user id</li>
</ul>
<h4 id="pre-pare-down-transformselect-values"><a name="user-content-pre-pare-down-transformselect-values" href="#pre-pare-down-transformselect-values" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>pre pare down (transform/<a href="http://wiki.pentaho.com/display/EAI/Select+Values">select values</a>)</h4>
<ul>
<li>forum queries don&rsquo;t need to see the course ID twice because they don&rsquo;t include the clever shit to get the content_path</li>
</ul>
<h4 id="more-queries-inputtable-input"><a name="user-content-more-queries-inputtable-input" href="#more-queries-inputtable-input" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>more queries (input/<a href="http://wiki.pentaho.com/display/EAI/Table+Input">table input</a>)</h4>
<ul>
<li>honestly like 70% of the time went into writing these</li>
<li>which kind of implies that i should be writing notes on how to get intelligible shit out of the bb schema</li>
<li>but, like, the necessary intelligible shit varies based on requirements</li>
<li>and the schema itself isn&rsquo;t <em>that</em> hard, it&rsquo;s just counter-intuitive in several places</li>
<li>sql nuggets, i guess:<ul>
<li>you can substitute a parenthesized select statement (subquery) for a single term in a lot of places, such as the from clause</li>
<li>you can usually substitute either a case/when or a subquery that returns a single row and field where sql expects a single term</li>
</ul>
</li>
</ul>
<h4 id="row-to-statement-scriptingmodified-java-script-value"><a name="user-content-row-to-statement-scriptingmodified-java-script-value" href="#row-to-statement-scriptingmodified-java-script-value" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>row to statement (scripting/<a href="http://wiki.pentaho.com/display/EAI/Modified+Java+Script+Value">modified java script value</a>)</h4>
<ul>
<li>probably 5% of the total time, the remaining 25% being oracle stupidity or deployment issues</li>
<li>contingent on recipes/communities of practice, or else totally pointless, because xAPI is about interoperability</li>
<li>get a list of reqs from stakeholders beforehand:<ul>
<li>make them supply statements of the form &ldquo;actor A verb V&rsquo;d object O [with result R] [in context C] [at time T]&rdquo; which they want to see in the LRS</li>
<li>if they cannot do this in a way that makes sense, their data should not be in the LRS and you should tell them this</li>
<li>most unique id fields in the LRS are IRIs so agree a schema/namespace/whatever with your stakeholders before you craft a recipe</li>
<li>beware of extensions. infinitely extensible, infinitely meaningless to any other application<ul>
<li>(if stakeholders do not care about this then hard questions need to be asked about why they&rsquo;re using an LRS instead of some other DW)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="pare-down-transformselect-values"><a name="user-content-pare-down-transformselect-values" href="#pare-down-transformselect-values" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>pare down (transform/<a href="http://wiki.pentaho.com/display/EAI/Select+Values">select values</a>)</h4>
<ul>
<li>necessary because you can&rsquo;t have a step with multiple input steps unless they all output the same fields</li>
</ul>
<h4 id="statement-to-lrs-lookuprest-client"><a name="user-content-statement-to-lrs-lookuprest-client" href="#statement-to-lrs-lookuprest-client" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>statement to LRS (lookup/<a href="http://wiki.pentaho.com/display/EAI/Rest+Client">rest client</a>)</h4>
<ul>
<li>no params on this one </li>
</ul>
<h4 id="write-to-log-utilitywrite-to-log_1"><a name="user-content-write-to-log-utilitywrite-to-log_1" href="#write-to-log-utilitywrite-to-log_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>write to log (utility/<a href="http://wiki.pentaho.com/display/EAI/Write+to+log+%28step%29">write to log</a>)</h4>
<ul>
<li>correctly stored statements send their (uu)ids as the http response</li>
<li>the LRS blats its java error in other cases, which is moderately helpful</li>
</ul>
<h2 id="annemarie"><a name="user-content-annemarie" href="#annemarie" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Annemarie</h2>
<ul>
<li>gets lists of allowed students and courses from text files</li>
<li>gets activity data from BB </li>
<li>compares the personal data of the allowed students to the anonymous, aggregated data of everyone</li>
<li>outputs personal data + aggregate-based percentage in a csv</li>
<li>mails it to annemarie</li>
</ul>
<h3 id="user-data-to-csv"><a name="user-content-user-data-to-csv" href="#user-data-to-csv" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>user data to csv</h3>
<h4 id="get-filenames-jobget-variables"><a name="user-content-get-filenames-jobget-variables" href="#get-filenames-jobget-variables" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>get filenames (job/<a href="http://wiki.pentaho.com/display/EAI/Get+Variable">get variables</a>)</h4>
<ul>
<li>command line arguments passed as variables by a previous tf</li>
<li>that could have been consolidated into the main tf here but encapsulation is a Good Thing</li>
</ul>
<h4 id="read-courseuser-ids-inputtext-file-input"><a name="user-content-read-courseuser-ids-inputtext-file-input" href="#read-courseuser-ids-inputtext-file-input" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>read course/user ids (input/<a href="http://wiki.pentaho.com/display/EAI/Text+File+Input">text file input</a>)</h4>
<ul>
<li>annemarie supplied the files in question, she runs a mac so these were macRoman encoding and UNIX format</li>
<li>beware encoding/line-terminator issues</li>
</ul>
<h4 id="join-rows-joinsjoin-rows-cartesian-product"><a name="user-content-join-rows-joinsjoin-rows-cartesian-product" href="#join-rows-joinsjoin-rows-cartesian-product" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>join rows (joins/<a href="http://wiki.pentaho.com/display/EAI/Join+Rows+%28Cartesian+product%29">join rows (cartesian product)</a>)</h4>
<ul>
<li>cartesian products are useful to add single fields to rows but otherwise leave them unchanged, because x * 1 = x for all x</li>
</ul>
<h4 id="dupe-scriptingmodified-java-script-value"><a name="user-content-dupe-scriptingmodified-java-script-value" href="#dupe-scriptingmodified-java-script-value" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>dupe (scripting/<a href="http://wiki.pentaho.com/display/EAI/Modified+Java+Script+Value">modified java script value</a>)</h4>
<ul>
<li>personalized query needs to see the course ID twice</li>
</ul>
<h4 id="query-db-for-participants-inputtable-input"><a name="user-content-query-db-for-participants-inputtable-input" href="#query-db-for-participants-inputtable-input" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>query db for participants (input/<a href="http://wiki.pentaho.com/display/EAI/Table+Input">table input</a>)</h4>
<h4 id="query-db-for-anon-activitydsll-inputtable-input"><a name="user-content-query-db-for-anon-activitydsll-inputtable-input" href="#query-db-for-anon-activitydsll-inputtable-input" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>query db for anon activity/dsll (input/<a href="http://wiki.pentaho.com/display/EAI/Table+Input">table input</a>)</h4>
<ul>
<li>anon queries never even get to see the user IDs: it&rsquo;s not just technically secure, it&rsquo;s logically secure</li>
</ul>
<h4 id="anon-data-to-vectors-statisticsmemory-group-by"><a name="user-content-anon-data-to-vectors-statisticsmemory-group-by" href="#anon-data-to-vectors-statisticsmemory-group-by" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>anon data to vectors (statistics/<a href="http://wiki.pentaho.com/display/EAI/Memory+Group+by">memory group by</a>)</h4>
<ul>
<li>&lsquo;vector&rsquo; meaning a serialized list of values for a given field</li>
<li>only called it a vector because annemarie did (it&rsquo;s apparently a thing in R, which makes an amount of sense)</li>
</ul>
<h4 id="join-rows-23-joinsjoin-rows-cartesian-product"><a name="user-content-join-rows-23-joinsjoin-rows-cartesian-product" href="#join-rows-23-joinsjoin-rows-cartesian-product" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>join rows 2+3 (joins/<a href="http://wiki.pentaho.com/display/EAI/Join+Rows+%28Cartesian+product%29">join rows (cartesian product)</a>)</h4>
<ul>
<li>once again, these single fields get added to the personalized data</li>
</ul>
<h4 id="aggregate-scriptingmodified-java-script-value"><a name="user-content-aggregate-scriptingmodified-java-script-value" href="#aggregate-scriptingmodified-java-script-value" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>aggregate (scripting/<a href="http://wiki.pentaho.com/display/EAI/Modified+Java+Script+Value">modified java script value</a>)</h4>
<ul>
<li>uses a start script (runs once per execution of the whole transformation) to define a function for getting the percentage of values in a vector that are equal or higher to a comparator value</li>
<li>uses the transform script (runs once per row received) to apply that function to the vector and the specific personal value for the property whose values are listed in the vector</li>
</ul>
<h4 id="csv-output-outputtext-file-output"><a name="user-content-csv-output-outputtext-file-output" href="#csv-output-outputtext-file-output" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>csv output (output/<a href="http://wiki.pentaho.com/display/EAI/Text+File+Output">text file output</a>)</h4>
<ul>
<li>straightforward</li>
</ul>
<h3 id="mail"><a name="user-content-mail" href="#mail" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>mail</h3>
<ul>
<li>you probably want to select &ldquo;only send comment in mail body&rdquo; in the &ldquo;email message&rdquo; tab unless you want a bunch of extraneous log shit to be sent</li>
</ul>
<h2 id="deploy-notes"><a name="user-content-deploy-notes" href="#deploy-notes" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>deploy notes</h2>
<p><code>[sudo] crontab -e</code><br />
<code>0 * * * * sh path/to/kitchen.sh -norep -file path/to/job.kjb arg arg2 &gt;&gt; cron.log 2&gt;&amp;1</code></p>
<p>or, if you&rsquo;re doing a one-time thing:</p>
<p><code>nohup sh path/to/kitchen.sh -norep -file path/to/job.kjb arg arg2 &amp;</code></p>
<h3 id="version-control"><a name="user-content-version-control" href="#version-control" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>version control</h3>
<p>shit&rsquo;s on subversion</p>
<p><a href="https://source.ic.uva.nl/repos/svn/odg-1/Cameron/etl/kettle">https://source.ic.uva.nl/repos/svn/odg-1/Cameron/etl/kettle</a></p></article></body></html>